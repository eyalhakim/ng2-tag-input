{"version":3,"sources":["accessor.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,KAAA,EAAM,MAAO,eAAA,CAAgB;AAItC,MAAM,mBAAmB,GAAK;IAC1B,MAAM,CAAC,GAAA,KAAQ,MAAA,CAAO,GAAC,CAAG,CAAC;AAC/B,CAAC;AAED;IAAA;QACY,WAAM,GAAe,EAAE,CAAC;QAQxB,cAAS,GAAW,SAAS,CAAC;QAM9B,eAAU,GAAW,OAAO,CAAC;IAyDzC,CAAC;IAvDG,sBAAW,mCAAK;aAAhB;YACI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAiB,KAAiB;YAC9B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACxC,CAAC;;;OALA;IAAA,CAAC;IAOK,oCAAS,GAAhB;QACI,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC9B,CAAC;IAEM,qCAAU,GAAjB,UAAkB,KAAY;QAC1B,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,EAAE,CAAC;IAC9B,CAAC;IAEM,2CAAgB,GAAvB,UAAwB,EAAO;QAC3B,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;IAChC,CAAC;IAEM,4CAAiB,GAAxB,UAAyB,EAAO;QAC5B,IAAI,CAAC,kBAAkB,GAAG,EAAE,CAAC;IACjC,CAAC;IAOM,uCAAY,GAAnB,UAAoB,IAAc;QAC9B,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;IACzD,CAAC;IAOM,yCAAc,GAArB,UAAsB,IAAc;QAChC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;IACxD,CAAC;IAOS,0CAAe,GAAzB,UAA0B,KAAa;QACnC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,UAAC,IAAI,EAAE,QAAQ,IAAK,OAAA,QAAQ,KAAK,KAAK,EAAlB,CAAkB,CAAC,CAAC;IACrE,CAAC;IAKL,uBAAC;AAAD,CAxEA,AAwEC;;AAJM,+BAAc,GAA2C;IAChE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;IAC/B,YAAY,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;CAC/B,CAAC","file":"accessor.js","sourceRoot":"","sourcesContent":["import { ControlValueAccessor } from '@angular/forms';\nimport { Input } from '@angular/core';\n\nexport type TagModel = string | {[key: string]: any};\n\nexport function isObject(obj: any): boolean {\n    return obj === Object(obj);\n}\n\nexport class TagInputAccessor implements ControlValueAccessor {\n    private _items: TagModel[] = [];\n    private _onTouchedCallback: () => void;\n    private _onChangeCallback: (items: TagModel[]) => void;\n\n    /**\n     * @name displayBy\n     * @type {string}\n     */\n     public displayBy: string = 'display';\n\n    /**\n     * @name identifyBy\n     * @type {string}\n     */\n     public identifyBy: string = 'value';\n\n    public get items(): TagModel[] {\n        return this._items;\n    };\n\n    public set items(items: TagModel[]) {\n        this._items = items;\n        this._onChangeCallback(this._items);\n    }\n\n    public onTouched() {\n        this._onTouchedCallback();\n    }\n\n    public writeValue(items: any[]) {\n        this._items = items || [];\n    }\n\n    public registerOnChange(fn: any) {\n        this._onChangeCallback = fn;\n    }\n\n    public registerOnTouched(fn: any) {\n        this._onTouchedCallback = fn;\n    }\n\n    /**\n     * @name getItemValue\n     * @param item\n     * @return {TagModel}\n     */\n    public getItemValue(item: TagModel): string {\n        return isObject(item) ? item[this.identifyBy] : item;\n    }\n\n    /**\n     * @name getItemDisplay\n     * @param item\n     * @return {TagModel}\n     */\n    public getItemDisplay(item: TagModel): string {\n        return isObject(item) ? item[this.displayBy] : item;\n    }\n\n    /**\n     * @name getItemsWithout\n     * @param index\n     * @return {TagModel[]}\n     */\n    protected getItemsWithout(index: number): TagModel[] {\n        return this.items.filter((item, position) => position !== index);\n    }\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'displayBy': [{ type: Input },],\n'identifyBy': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}